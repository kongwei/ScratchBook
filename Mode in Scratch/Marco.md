# 引言
有一个跳舞机器人，需要编程让她按照特定的顺序做出一系列的动作。什么样的方式，能够最快速的完成编程过程呢？

回想一下，舞蹈老师是怎么教会我们跳舞的吧。老师会将动作分解，让我们逐个将分解动作的姿态摆好，然后我们按照顺序做出这些动作。这个过程联系熟练之后，就可以认为完成了这个这支舞蹈的基本学习。

按照这个思路，我们就可以非常快速和直观的进行机器人舞蹈的编程了。机器人通过各个关节的舵机<sup>[1]</sup>控制机器人的动作，因此机器人舞蹈编程的关键在于控制这些舵机的转角。高级的舵机允许手工转动角度，并且可通过角度传感器获取舵机当前的角度数据。因此，我们可以通过手动将机器人调整到相应的姿态，然后通过传感器记录下这个姿态的所有舵机的角度数据。最后将这些数据转换成程序流程，就可以完成一个简单的机器人跳舞程序了。

这种做法是编程吗？是的，这种看似不是编程的操作，称为“记录-回放”，属于“宏录制”编程的一种。再举个例子，我们的手机都有录音机功能，录音的时候，我们说了什么，在回放的时候就能分毫不差的播放出来。“录制-回放”与录音机的思路完成一致。

> * 舵机

# Scratch中的录制回放
scratch中，[运动]卡组里有这样的积木：移动到 x(X) y(Y)。当我们在设计器中移动角色时，设计卡组里的积木的默认参数也会随着当前角色的位置变化。例如，我们把小猫移动到右上角，设计卡组里的积木就会变成“移动到 x(240) y(180)”。这时，把设计卡组里的积木拖动到程序区，程序里的积木就是“移动到 x(240) y(180)”。

通过这一方法，我们可以非常方便的制作一个动画。而且制作过程不需要使用键盘。下面通过一个例子完整的看一下“录制-回放”的程序制作。

> * 设计卡组 
> * 积木
> * 程序区

## 程序制作：跳舞的小女孩
### 程序目标
制作一段动画，小女孩 ballerina 在跳舞。ballerina 从屏幕左边小步跳跃着来到屏幕右边。
#### 设计思路
通过一系列积木“在(n)秒内滑行到 x(X) y(Y)”完成：

1. 初始化：ballerina 移动到屏幕左边
2. 1秒后 ballerina 向右上移动一些位置，表示轻轻跃起
3. 1秒后 ballerina 向右下移动，注意 ballerina 的高度要与初始位置平齐
4. 反复步骤2和步骤3
5. 最终 ballerina 来到屏幕右边

我们可以只通过鼠标操作来完成这个程序：

第一步，增加角色。在Scratch中增加一个角色，选择 Scratch 素材库中的 ballerina 作为这个角色的图片。ballerina 一共有4中造型，我们选择第4中造型，也就是跳舞的造型。然后从“事件”卡组中拖动“当Run被点击”到 ballerina 角色的程序区。

第二步，准备添加积木程序块。程序中只会用到“运动”卡组中的“移动到 x(X) y(Y)”和“在(n)秒内滑行到 x(X) y(Y)”，因此切换到“运动”卡组。

第三步，设定 ballerina 的初始位置。将 ballerina 移动到屏幕左边，此时“运动”卡组中的“移动到 x(X) y(Y)”积木会显示为 ballerina 的当前位置。将这个积木拖动到程序区，接在积木“当Run被点击”的下面。

第四步，将 ballerina 移动到第一个跳跃点，也就是将 ballerina 向右上方移动一小段距离，此时“运动”卡组中的积木“在（n）秒内滑行到 x(X) y(Y)”会显示为 ballerina 的当前位置。将这个积木拖动到程序区，接在上一个积木的下面。

第四步操作，就是不断向程序中添加 ballerina 跳舞位置的方式，我们可以根据自己的设计，重复第四步，添加 ballerina 一系列跳舞的动作。

最终 ballerina 会跳跃到屏幕的右边，程序结束。

> * 角色（精灵）
> * 程序区 (脚本区)

编写 ballerina 跳舞程序的过程中，每当我们移动了 ballerina 角色，卡组中“移动到 x(X) y(Y)”和“在(n)秒内滑行到 x(X) y(Y)”这两个积木会立即将参数更新为角色最新的位置。这类似于上文所说的机器人舞蹈编程，我们设定好角色的位置，然后用程序回放这个过程。
